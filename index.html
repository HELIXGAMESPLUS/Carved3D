<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Carved3d</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: url('https://wallpaperaccess.com/full/2181659.jpg') center/cover no-repeat fixed;
      color: white;
      text-align: center;
    }

    header {
      padding: 30px;
      font-size: 2.5rem;
      font-weight: bold;
    }

    .main-title {
      font-size: 4rem;
      margin-top: 50px;
    }

    .description {
      margin: 20px auto;
      max-width: 600px;
      font-size: 1.2rem;
    }

    .shop-button {
      margin-top: 30px;
      padding: 15px 40px;
      font-size: 1.5rem;
      background: #fff;
      color: #000;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .popup, .cart-popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      color: black;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(0,0,0,0.5);
      z-index: 10;
      width: 90%;
      max-width: 500px;
    }

    .popup .close, .cart-popup .close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
    }

    .snowboard-outline {
      margin: 20px auto;
      width: 200px;
      height: 500px;
      background: gray;
      border-radius: 100px;
      position: relative;
      background-blend-mode: multiply;
    }

    .color-wheel, .pattern-color, .pattern-select {
      margin: 10px auto;
      display: block;
    }

    .finish-btn {
      margin-top: 20px;
      padding: 10px 30px;
      font-size: 1rem;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .cart-icon {
      position: fixed;
      top: 20px;
      right: 30px;
      font-size: 1.5rem;
      cursor: pointer;
    }

    .cart-icon span {
      background: red;
      color: white;
      border-radius: 50%;
      padding: 3px 7px;
      font-size: 0.8rem;
      position: absolute;
      top: -10px;
      right: -10px;
    }

    .item-preview {
      margin: 10px auto;
      width: 100px;
      height: 250px;
      border-radius: 100px;
      background: gray;
    }
  </style>
</head>
<body>
  <div class="cart-icon" onclick="openCart()">
    ðŸ›’<span id="cart-count">0</span>
  </div>
  <header>Carved3d</header>
  <div class="main-title">Carved3d</div>
  <div class="description">Design your own custom mini snowboard. Choose colors, patterns, and make it yours!</div>
  <button class="shop-button" onclick="openPopup()">Shop Now</button>

  <div class="popup" id="popup">
    <div class="close" onclick="closePopup()">âœ•</div>
    <h2>Shop</h2>
    <div class="snowboard-outline" id="snowboardPreview"></div>
    <label>Base Color</label>
    <input type="color" class="color-wheel" id="baseColor" />
    <label>Pattern</label>
    <select class="pattern-select" id="patternSelect">
      <option value="none">None</option>
      <option value="stripes">Stripes</option>
      <option value="dots">Dots</option>
      <option value="gradient">Gradient</option>
    </select>
    <label>Pattern Color</label>
    <input type="color" class="pattern-color" id="patternColor" />
    <button class="finish-btn" onclick="finishDesign()">Finish</button>
  </div>

  <div class="cart-popup" id="cartPopup">
    <div class="close" onclick="closeCart()">âœ•</div>
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
    <p>Total: $<span id="totalPrice">0.00</span></p>
    <button class="finish-btn">Checkout</button>
  </div>

  <script>
    let cart = [];

    function openPopup() {
      document.getElementById("popup").style.display = "block";
    }

    function closePopup() {
      document.getElementById("popup").style.display = "none";
    }

    function openCart() {
      document.getElementById("cartPopup").style.display = "block";
      updateCart();
    }

    function closeCart() {
      document.getElementById("cartPopup").style.display = "none";
    }

    function finishDesign() {
      const base = document.getElementById("baseColor").value;
      const pattern = document.getElementById("patternSelect").value;
      const patternColor = document.getElementById("patternColor").value;

      cart.push({ base, pattern, patternColor });
      document.getElementById("cart-count").innerText = cart.length;
      closePopup();
    }

    function updateCart() {
      const cartItems = document.getElementById("cartItems");
      const total = document.getElementById("totalPrice");
      cartItems.innerHTML = "";

      cart.forEach((item, index) => {
        const div = document.createElement("div");
        div.innerHTML = `
          <div class="item-preview" style="background: ${item.base};
            background-image: ${getPattern(item.pattern, item.patternColor)};">
          </div>
          <p>Item ${index + 1}</p>
        `;
        cartItems.appendChild(div);
      });

      total.innerText = (cart.length * 5).toFixed(2);
    }

    function getPattern(pattern, color) {
      switch(pattern) {
        case "stripes":
          return `repeating-linear-gradient(45deg, ${color} 0 10px, transparent 10px 20px)`;
        case "dots":
          return `radial-gradient(${color} 10%, transparent 11%)`;
        case "gradient":
          return `linear-gradient(90deg, ${color}, white)`;
        default:
          return "none";
      }
    }

    document.getElementById("patternSelect").addEventListener("change", updatePreview);
    document.getElementById("baseColor").addEventListener("input", updatePreview);
    document.getElementById("patternColor").addEventListener("input", updatePreview);

    function updatePreview() {
      const preview = document.getElementById("snowboardPreview");
      const base = document.getElementById("baseColor").value;
      const pattern = document.getElementById("patternSelect").value;
      const patternColor = document.getElementById("patternColor").value;

      preview.style.background = base;
      preview.style.backgroundImage = getPattern(pattern, patternColor);
    }
  </script>
</body>
</html>
